import{_ as L}from"./BWLN8O8p.js";import{_ as C}from"./BkmUCk3I.js";import{_ as k}from"./BNzIjoYT.js";import{r as h,h as S,c as o,a as t,g as E,b as l,w as b,u as c,F as P,l as A,o as i,d as m,t as _,e as B}from"./--rz71Vb.js";import{u as N}from"./CFwKkAp4.js";import{u as V}from"./DDUN2HoU.js";import"./-HW9Rane.js";import"./CjliaLmw.js";import"./B0Dix5B2.js";const $={class:"dashboard-body mt30"},D={class:"dashboard-box mt30 custom-card-form"},F={class:"custom-card-header d-flex align-items-center justify-content-between"},T={class:"add-new-btn"},M={key:0,class:"common-table mt30"},R={class:"custom-table display nowrap mobile-table"},j=["src"],q={class:"d-flex align-content-between"},I=["onClick"],Z={__name:"index",setup(O){const{useOnlyFetch:f}=N(),r=h([]),p=h(!1),d=async n=>{const s=new URLSearchParams({page:n}),{data:a,pending:u,error:g}=await f(`manage-lessons?${s.toString()}`);r.value=a.value,p.value=u.value};S(async()=>{await d()});const{confirm:y,alert:w}=V(),v=async n=>{await y("Are you sure you want to delete this lesson?","warning")&&await f(`/manage-lessons/${n}`,{method:"DELETE",async onResponse({response:a}){await d(),w("Lesson deleted successfully.")}})};return(n,s)=>{const a=L,u=C,g=k;return i(),o("div",$,[t("div",D,[t("div",F,[s[1]||(s[1]=t("div",{class:"table-heading"},[t("h5",null,"Lesson List")],-1)),t("div",T,[l(a,{to:{name:"dashboard-manage-learn-create"},class:"gradient-btn"},{default:b(()=>s[0]||(s[0]=[t("i",{class:"fas fa-plus"},null,-1),m(" Create Lesson ")])),_:1})])]),s[5]||(s[5]=t("div",{class:"card-line"},null,-1)),c(p)?E("",!0):(i(),o("div",M,[t("table",R,[s[4]||(s[4]=t("thead",null,[t("tr",null,[t("th",null,"SL"),t("th",null,"Title"),t("th",null,"Image"),t("th",null,"Category"),t("th",null,"Status"),t("th",null,"Action")])],-1)),t("tbody",null,[(i(!0),o(P,null,A(c(r).data,(e,x)=>(i(),o("tr",{key:e.id},[t("td",null,_(++x),1),t("td",null,_(e.title),1),t("td",null,[t("img",{src:e.image,width:"120px",alt:""},null,8,j)]),t("td",null,_(e.category.name),1),t("td",null,[l(u,{status:e.status},null,8,["status"])]),t("td",null,[t("div",q,[l(a,{to:{name:"dashboard-manage-learn-edit",query:{id:e.id}},class:"gradient-btn-small"},{default:b(()=>s[2]||(s[2]=[t("i",{class:"fas fa-edit"},null,-1),m(" Edit ")])),_:2},1032,["to"]),t("a",{href:"#",role:"button",onClick:B(U=>v(e.id),["prevent"]),class:"gradient-btn-small"},s[3]||(s[3]=[t("i",{class:"fas fa-trash"},null,-1),m(" Delete ")]),8,I)])])]))),128))])]),l(g,{data:c(r),onPaginationChangePage:d},null,8,["data"])]))])])}}};export{Z as default};
