import{_ as k}from"./BWLN8O8p.js";import{_ as C}from"./PLJPPlAC.js";import{r as A,k as B,c as n,a as s,b as c,w as u,F as V,l as E,u as m,o as l,d as a,n as N,t as o,g as b,e as L}from"./--rz71Vb.js";import{u as $}from"./4sG8uzv-.js";import{u as j}from"./CFwKkAp4.js";import{u as D}from"./DDUN2HoU.js";import"./-HW9Rane.js";import"./CjliaLmw.js";import"./B0Dix5B2.js";const F={class:"dashboard-body mt30"},z={class:"dashboard-box mt30 custom-card-form"},P={class:"custom-card-header d-flex align-items-center justify-content-between"},R={class:"add-new-btn"},S={class:"row gy-4 mt-15"},T={class:"blog-post-card blog-post-card-color h-100"},q={class:"blog-post-thumbnails position-relative"},M={class:"blog-post-content mt-20"},O={class:"publish-date d-flex align-items-center"},U={class:"mt-3"},G={class:"d-flex justify-content-between mt-15"},H={class:"publish-date d-flex align-items-center"},I={class:"publish-date d-flex align-items-center"},J={class:"btn-group-card d-flex align-items-center justify-content-between mt-2"},K={key:0},Q={key:1},W=["onClick"],ds={__name:"index",async setup(X){let i,_;const{hasPermission:f}=$(),{useOnlyFetch:p}=j(),g=A([]),{refresh:h}=([i,_]=B(()=>p("/manage-blogs",{method:"get",async onResponse({response:d}){g.value=d._data}})),i=await i,_(),i),{alert:y,confirm:w}=D(),v=async d=>{await w("Are you sure you want to delete this blog?","warning")&&await p(`/manage-blogs/${d}`,{method:"DELETE",async onResponse({response:r}){await h(),y("Blog deleted successfully.")}})};return(d,t)=>{const r=k,x=C;return l(),n("div",F,[s("div",z,[s("div",P,[t[1]||(t[1]=s("div",{class:"table-heading"},[s("h5",null,"Blog List")],-1)),s("div",R,[c(r,{to:{path:"/dashboard/manage-blog/create"},class:"gradient-btn"},{default:u(()=>t[0]||(t[0]=[s("i",{class:"fas fa-plus"},null,-1),a(" Add New Blog ")])),_:1})])]),t[9]||(t[9]=s("div",{class:"card-line"},null,-1)),s("div",S,[(l(!0),n(V,null,E(m(g),e=>(l(),n("div",{class:"col-xl-4 col-md-6",key:e.id},[s("div",T,[s("div",q,[c(x,{src:e.featured_image,loading:"lazy",format:"webp",placeholder:"",alt:"img",class:"w-100"},null,8,["src"]),s("div",{class:N(["blog-status badge",e.status==1?"active-status gradient-bg":"deactivated-status gradient-bg-red"])},o(e.status==1?"Published":"Unpublished"),3)]),s("div",M,[s("span",O,[t[2]||(t[2]=s("i",{class:"fa-solid fa-clock"},null,-1)),a(" "+o(e.publish_date),1)]),s("h4",null,o(e.title),1),s("p",U,o(e.short_content)+".",1),t[8]||(t[8]=s("div",{class:"line-1 mt-20"},null,-1)),s("div",G,[s("span",H,[t[3]||(t[3]=s("i",{class:"fa-solid fa-eye"},null,-1)),a(" "+o(e.views_count)+" Views ",1)]),s("span",I,[t[4]||(t[4]=s("i",{class:"fa-solid fa-comments"},null,-1)),a(" "+o(e.comments_count)+" Comments ",1)])]),s("ul",J,[s("li",null,[c(r,{to:{path:`/blog-detail/${e.slug}`},target:"_blank"},{default:u(()=>t[5]||(t[5]=[s("i",{class:"fa-solid fa-eye green"},null,-1),a(" View ")])),_:2},1032,["to"])]),m(f)("manage-blogs-edit")?(l(),n("li",K,[c(r,{to:{path:"/dashboard/manage-blog/edit",query:{id:e.id}}},{default:u(()=>t[6]||(t[6]=[s("i",{class:"fa-solid fa-pen skyblue"},null,-1),a(" Edit ")])),_:2},1032,["to"])])):b("",!0),m(f)("manage-blogs-delete")?(l(),n("li",Q,[s("button",{type:"button","data-bs-toggle":"modal",onClick:L(Y=>v(e.id),["prevent"])},t[7]||(t[7]=[s("i",{class:"fa-solid fa-trash-can red"},null,-1),a(" Delete ")]),8,W)])):b("",!0)])])])]))),128))])])])}}};export{ds as default};
