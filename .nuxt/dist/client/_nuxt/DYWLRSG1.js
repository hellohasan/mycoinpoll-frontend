import{_ as y}from"./BWLN8O8p.js";import{_ as x}from"./DdXvD7NX.js";import{r as w,k,c as n,a as s,b as u,w as V,e as C,u as o,F as N,l as R,g as _,d as r,o as l,f as F,z as P,t as A,i as B}from"./--rz71Vb.js";import{u as S}from"./0rbwi0QL.js";import{u as L}from"./CFwKkAp4.js";import{u as T}from"./-HW9Rane.js";import"./CjliaLmw.js";const j={class:"dashboard-body mt30"},D={class:"dashboard-box mt30 custom-card-form"},E={class:"custom-card-header d-flex align-items-center justify-content-between"},M={class:"add-new-btn"},U={class:"custom-card-body"},z={class:"row gy-4 mt-1"},G={class:"row gy-4 mt-1"},I={class:"form-group"},O=["id","value"],$=["for"],q={key:0},H={class:"custom-card-footer"},J={class:"form-group d-flex justify-content-end align-items-center g30"},K=["disabled"],Q={key:0,class:"fas fa-spinner fa-spin me-1"},as={__name:"create",async setup(W){let d,m;const t=S({name:"",selectedPermissions:[]}),c=w([]),{useOnlyFetch:f}=L();[d,m]=k(()=>f("/manage-permissions",{method:"get",onResponse:({response:i})=>{c.value=i._data}})),await d,m();const{toastSuccess:p}=T(),b=async()=>{await t.submit("/manage-roles").then(i=>{t.reset(),t.clear(),p("Role Created successfully."),B("/dashboard/manage-role")})};return(i,e)=>{const g=y,v=x;return l(),n("div",j,[s("div",D,[s("div",E,[e[3]||(e[3]=s("div",{class:"table-heading"},[s("h5",null,"Create a New Role")],-1)),s("div",M,[u(g,{to:{name:"dashboard-manage-role"},class:"gradient-btn"},{default:V(()=>e[2]||(e[2]=[s("i",{class:"fas fa-list"},null,-1),r(" Role List ")])),_:1})])]),e[8]||(e[8]=s("div",{class:"card-line"},null,-1)),s("form",{onSubmit:C(b,["prevent"])},[s("div",U,[s("div",z,[u(v,{col:"col-md-12",modelValue:o(t).name,"onUpdate:modelValue":e[0]||(e[0]=a=>o(t).name=a),error:o(t).errors.get("name"),label:"Role Name",placeholder:"Enter role name"},null,8,["modelValue","error"]),e[4]||(e[4]=s("div",{class:"table-heading mt-20"},[s("h5",null,"Assign Permission")],-1))]),s("div",G,[(l(!0),n(N,null,R(o(c),a=>(l(),n("div",{key:a.id,class:"col-sm-6 col-lg-3 col-md-4"},[s("div",I,[F(s("input",{type:"checkbox",id:a.id,class:"checkBox","onUpdate:modelValue":e[1]||(e[1]=h=>o(t).selectedPermissions=h),value:a.id},null,8,O),[[P,o(t).selectedPermissions]]),s("label",{for:a.id},[r(A(a.name)+" ",1),o(t).selectedPermissions.includes(a.id)?(l(),n("span",q,e[5]||(e[5]=[s("i",{class:"fa-solid fa-check"},null,-1)]))):_("",!0)],8,$)])]))),128))]),e[7]||(e[7]=s("div",{class:"card-line"},null,-1)),s("div",H,[s("div",J,[s("button",{type:"submit",disabled:o(t).busy,class:"gradient-btn"},[o(t).busy?(l(),n("i",Q)):_("",!0),e[6]||(e[6]=r(" Create Role "))],8,K)])])])],32)])])}}};export{as as default};
