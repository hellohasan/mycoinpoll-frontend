import{_ as L}from"./BNzIjoYT.js";import{c9 as D,Q as N,R as P,y as A,r as f,h as B,c as i,a as e,u as s,e as g,t as o,f as C,v as F,A as M,b as V,F as $,l as E,U as Q,o as c}from"./--rz71Vb.js";import{u as T}from"./C19ZpRXz.js";import{u as j}from"./CFwKkAp4.js";import"./-HW9Rane.js";import"./CjliaLmw.js";const q=D("/images/dashboard/icon/copy.png"),I={class:"dashboard-body mt30"},z={class:"input bg-border-input"},G={class:"refer-link-box-inner d-flex align-items-center g30 position-relative"},H=["value"],J={class:"data-show-table-area dashboard-box mt30"},K={class:"table-header-area d-flex align-items-center justify-content-between"},O={class:"table-heading"},W={class:"search-box-area"},X={class:"input bg-border-input position-relative"},Y={class:"common-table mt30"},Z={class:"custom-table display nowrap mobile-table"},ee={key:1},ie={__name:"referrals",setup(te){const b=Q(),v=N(),{user:y}=P(v),p=A(()=>`${b.public.appUrl}?ref=${y.value.unique_id}`),{copyNow:k}=T(),x=async()=>{k(p.value)},a=f([]),r=f(""),S=l=>new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),{myFetch:R}=j(),d=async(l=1)=>{const t=new URLSearchParams({page:l.toString(),search:r.value}),u=await R(`get-referral-users?${t.toString()}`);a.value=u},U=()=>{d(1)};return B(()=>{d()}),(l,t)=>{var m,h,_;const u=L;return c(),i("div",I,[e("div",z,[e("div",G,[t[1]||(t[1]=e("p",null,"Referral Link :",-1)),e("input",{type:"text",id:"refer-url",ref:"referralInput",readonly:"",value:s(p)},null,8,H),e("img",{src:q,alt:"copy",onClick:g(x,["prevent"])})])]),e("div",J,[e("div",K,[e("div",O,[e("h5",null,"Referral Users ("+o(((m=s(a))==null?void 0:m.total)||0)+")",1)]),e("div",W,[e("form",{onSubmit:g(U,["prevent"])},[e("div",X,[t[2]||(t[2]=e("div",{class:"search-icon"},[e("i",{class:"fas fa-search"})],-1)),C(e("input",{"onUpdate:modelValue":t[0]||(t[0]=n=>M(r)?r.value=n:null),type:"search",class:"form-control",id:"search",placeholder:"Search here."},null,512),[[F,s(r)]])])],32)])]),e("div",Y,[e("table",Z,[t[4]||(t[4]=e("thead",null,[e("tr",null,[e("th",null,"SL"),e("th",null,"Reg. Date"),e("th",null,"Name"),e("th",null,"Username"),e("th",null,"Email")])],-1)),e("tbody",null,[((_=(h=s(a))==null?void 0:h.data)==null?void 0:_.length)>0?(c(!0),i($,{key:0},E(s(a).data,(n,w)=>(c(),i("tr",{key:n.id},[e("td",null,o((s(a).current_page-1)*s(a).per_page+w+1),1),e("td",null,o(S(n.created_at)),1),e("td",null,o(n.name),1),e("td",null,o(n.username),1),e("td",null,o(n.email),1)]))),128)):(c(),i("tr",ee,t[3]||(t[3]=[e("td",{colspan:"100%",class:"text-center"},"No user found!",-1)])))])]),V(u,{data:s(a),onPaginationChangePage:d},null,8,["data"])])])])}}};export{ie as default};
