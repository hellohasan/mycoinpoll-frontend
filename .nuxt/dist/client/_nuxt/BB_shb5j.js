import{_ as N}from"./BWLN8O8p.js";import{r as f,k as S,c as l,a as e,b as h,w as _,g as A,e as b,f as D,v as L,u as n,A as R,F as V,l as E,o as i,d as F,t as u}from"./--rz71Vb.js";import{u as j}from"./CHhiU8n8.js";import{u as B}from"./CFwKkAp4.js";import{u as T}from"./DDUN2HoU.js";import"./-HW9Rane.js";import"./CjliaLmw.js";import"./B0Dix5B2.js";const $={class:"dashboard-body mt30"},M={class:"custom-card-header d-flex align-items-center justify-content-between"},U={class:"add-new-btn"},q={class:"data-show-table-area dashboard-box mt30"},G={class:"table-header-area d-flex align-items-center justify-content-between"},O={class:"search-box-area"},Q={class:"input bg-border-input position-relative"},z={key:0,class:"common-table mt30"},H={class:"custom-table display nowrap mobile-table"},I={class:"d-flex align-items-center action-group justify-content-center"},J=["onClick"],K={key:1},le={__name:"index",async setup(W){let r,p;const{formatDate:y}=j(),{useOnlyFetch:c}=B(),o=f([]),{pending:g,refresh:v}=([r,p]=S(()=>c("/manage-permissions",{onResponse({response:a}){o.value=a._data}})),r=await r,p(),r),d=f(""),w=async()=>{const a=new URLSearchParams({search:d.value});await c(`/manage-permissions?${a.toString()}`,{onResponse({response:s}){o.value=s._data}})},{confirm:x,alert:k}=T(),C=async a=>{await x("Are you sure you want to delete this permission?","warning")&&await c(`/manage-permissions/${a}`,{method:"DELETE",onResponse({response:m}){v(),k("Permission deleted successfully.")}})};return(a,s)=>{const m=N;return i(),l("div",$,[e("div",M,[s[2]||(s[2]=e("div",{class:"table-heading"},[e("h5",null,"Permissions")],-1)),e("div",U,[h(m,{to:{name:"dashboard-manage-permissions-create"},class:"gradient-btn"},{default:_(()=>s[1]||(s[1]=[e("i",{class:"fas fa-plus"},null,-1),F(" Create Permission ")])),_:1})])]),e("div",q,[e("div",G,[s[4]||(s[4]=e("div",{class:"table-heading"},[e("h5",null,"Permissions List")],-1)),e("div",O,[e("form",{onSubmit:b(w,["prevent"])},[e("div",Q,[s[3]||(s[3]=e("div",{class:"search-icon"},[e("i",{class:"search-icon fas fa-search"})],-1)),D(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>R(d)?d.value=t:null),type:"search",class:"form-control",id:"search",placeholder:"Search here."},null,512),[[L,n(d)]])])],32)])]),n(g)?A("",!0):(i(),l("div",z,[e("table",H,[s[8]||(s[8]=e("thead",null,[e("tr",null,[e("th",null,"SL"),e("th",null,"Permission Name"),e("th",null,"Guard Name"),e("th",null,"Date Created"),e("th",null,"Action")])],-1)),e("tbody",null,[n(o)&&n(o).length>0?(i(!0),l(V,{key:0},E(n(o),(t,P)=>(i(),l("tr",{key:t.id},[e("td",null,u(P+1),1),e("td",null,u(t.name),1),e("td",null,u(t.guard_name),1),e("td",null,u(n(y)(t.created_at)),1),e("td",null,[e("ul",I,[e("li",null,[h(m,{to:{name:"dashboard-manage-permissions-edit",query:{id:t.id}}},{default:_(()=>s[5]||(s[5]=[e("i",{class:"fas fa-pencil-alt skyblue"},null,-1)])),_:2},1032,["to"])]),e("li",null,[e("button",{type:"button",onClick:b(X=>C(t.id),["prevent"]),class:"bg-transparent"},s[6]||(s[6]=[e("i",{class:"fa-solid fa-trash-can red"},null,-1)]),8,J)])])])]))),128)):(i(),l("tr",K,s[7]||(s[7]=[e("td",{colspan:"100%",class:"text-center"},"No data found!",-1)])))])])]))])])}}};export{le as default};
