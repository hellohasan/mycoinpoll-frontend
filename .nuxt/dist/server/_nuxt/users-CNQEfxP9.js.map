{"version":3,"file":"users-CNQEfxP9.js","sources":["../../../../pages/dashboard/users.vue"],"sourcesContent":["<template>\n\t<div class=\"dashboard-body mt30\">\n\t\t<div class=\"data-show-table-area dashboard-box mt30\">\n\t\t\t<div class=\"table-header-area d-flex align-items-center justify-content-between\">\n\t\t\t\t<div class=\"table-heading\">\n\t\t\t\t\t<h5>Total Users ({{ loading ? '...' : users?.total }})</h5>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"search-box-area d-flex\">\n\t\t\t\t\t<form @submit.prevent=\"searchUsers\">\n\t\t\t\t\t\t<div class=\"input bg-border-input position-relative\">\n\t\t\t\t\t\t\t<div class=\"search-icon\">\n\t\t\t\t\t\t\t\t<i class=\"search-icon fas fa-search\"></i>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<input v-model=\"searchQuery\" type=\"search\" class=\"form-control\" id=\"search\" placeholder=\"Search here.\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t\t<div class=\"export-area ms-1\">\n\t\t\t\t\t\t<ClientOnly>\n\t\t\t\t\t\t\t<BackendSuperAdminPartialsExportUser />\n\t\t\t\t\t\t</ClientOnly>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"common-table mt30\">\n\t\t\t\t<table class=\"custom-table display nowrap mobile-table\">\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>SL</th>\n\t\t\t\t\t\t\t<th>Reg. Date</th>\n\t\t\t\t\t\t\t<th>Name</th>\n\t\t\t\t\t\t\t<th>Username</th>\n\t\t\t\t\t\t\t<th>Email</th>\n\t\t\t\t\t\t\t<th>ETH Address</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<template v-if=\"loading\">\n\t\t\t\t\t\t\t<tr v-for=\"n in 10\" :key=\"n\">\n\t\t\t\t\t\t\t\t<td colspan=\"100%\">\n\t\t\t\t\t\t\t\t\t<Skeletor height=\"30\" width=\"100%\" />\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t\t<tr v-for=\"(user, i) in users.data\" :key=\"user.id\">\n\t\t\t\t\t\t\t\t<td>{{ (users.current_page - 1) * users.per_page + i + 1 }}</td>\n\t\t\t\t\t\t\t\t<td>{{ formatDate(user.created_at) }}</td>\n\t\t\t\t\t\t\t\t<td>{{ user.name }}</td>\n\t\t\t\t\t\t\t\t<td>{{ user.username }}</td>\n\t\t\t\t\t\t\t\t<td>{{ user.email }}</td>\n\t\t\t\t\t\t\t\t<td>{{ user.eth_address }}</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr v-if=\"!users.data?.length\">\n\t\t\t\t\t\t\t\t<td colspan=\"100%\" class=\"text-center\">No transactions found</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t\t<BackendPartialsPagination :data=\"users\" @pagination-change-page=\"getUsers\" />\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script setup>\n\timport { Skeletor } from 'vue-skeletor';\n\n\tdefinePageMeta({\n\t\ttitle: \"User List\",\n\t\tlayout: 'backend',\n\t\tauthenticated: true,\n\t\troles: ['Super Admin']\n\t});\n\n\tconst { useOnlyFetch } = useApi();\n\tconst users = ref([]);\n\tconst loading = ref(true);\n\tconst searchQuery = ref('');\n\n\tconst getUsers = async (page) => {\n\t\ttry {\n\t\t\tconst params = new URLSearchParams({\n\t\t\t\tpage, search: searchQuery.value\n\t\t\t});\n\t\t\tconst { data, pending, error } = await useOnlyFetch(`get-users?${params.toString()}`);\n\t\t\tusers.value = data.value;\n\t\t\tloading.value = pending.value;\n\t\t} catch (error) {\n\t\t\tconsole.error('Error fetching users:', error);\n\t\t}\n\t}\n\n\tconst searchUsers = async () => {\n\t\tawait getUsers(1);\n\t};\n\n\tconst formatDate = (dateString) => {\n\t\treturn new Date(dateString).toLocaleDateString('en-US', {\n\t\t\tyear: 'numeric',\n\t\t\tmonth: 'short',\n\t\t\tday: 'numeric'\n\t\t});\n\t}\n\tonMounted(async () => {\n\t\tawait getUsers();\n\t});\n\n</script>\n\n<style>\n</style>"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0EC,UAAM,EAAE,aAAc,IAAG,OAAQ;AACjC,UAAM,QAAQ,IAAI,EAAE;AACpB,UAAM,UAAU,IAAI,IAAI;AACxB,UAAM,cAAc,IAAI,EAAE;AAE1B,UAAM,WAAW,OAAO,SAAS;AAChC,UAAI;AACH,cAAM,SAAS,IAAI,gBAAgB;AAAA,UAClC;AAAA,UAAM,QAAQ,YAAY;AAAA,QAC9B,CAAI;AACD,cAAM,EAAE,MAAM,SAAS,UAAU,MAAM,aAAa,aAAa,OAAO,SAAQ,CAAE,EAAE;AACpF,cAAM,QAAQ,KAAK;AACnB,gBAAQ,QAAQ,QAAQ;AAAA,MACxB,SAAQ,OAAO;AACf,gBAAQ,MAAM,yBAAyB,KAAK;AAAA,MAC/C;AAAA,IACA;AAMC,UAAM,aAAa,CAAC,eAAe;AAClC,aAAO,IAAI,KAAK,UAAU,EAAE,mBAAmB,SAAS;AAAA,QACvD,MAAM;AAAA,QACN,OAAO;AAAA,QACP,KAAK;AAAA,MACR,CAAG;AAAA,IACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}