{"file":"index-BKI83r59.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEC,UAAM,EAAE,aAAc,IAAG,OAAQ;AACjC,UAAM,EAAE,MAAM,UAAU,QAAS,KAAS,CAAA,QAAA,SAAA,IAAAA,iBAAA,MAAA,aAAa,cAAc,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","names":["_withAsyncContext"],"sources":["../../../../pages/dashboard/manage-news/index.vue"],"sourcesContent":["<template>\n\t<div class=\"dashboard-body mt30\">\n\t\t<div class=\"dashboard-box mt30 custom-card-form\">\n\t\t\t<div class=\"custom-card-header d-flex align-items-center justify-content-between\">\n\t\t\t\t<div class=\"table-heading\">\n\t\t\t\t\t<h5>News List</h5>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"add-new-btn\">\n\t\t\t\t\t<nuxt-link :to=\"{ name: 'dashboard-manage-news-create' }\" class=\"gradient-btn\">\n\t\t\t\t\t\t<i class=\"fas fa-plus\"></i>\n\t\t\t\t\t\tCreate News\n\t\t\t\t\t</nuxt-link>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"card-line\"></div>\n\t\t\t<div class=\"common-table mt30\">\n\t\t\t\t<table class=\"custom-table display nowrap mobile-table\">\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>SL</th>\n\t\t\t\t\t\t\t<th>Title</th>\n\t\t\t\t\t\t\t<th>Image</th>\n\t\t\t\t\t\t\t<th>Category</th>\n\t\t\t\t\t\t\t<th>Status</th>\n\t\t\t\t\t\t\t<th>Action</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr v-for=\"(news, i) in newsList\" :key=\"news.id\">\n\t\t\t\t\t\t\t<td>{{ ++i }}</td>\n\t\t\t\t\t\t\t<td>{{ news.title }}</td>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<nuxt-img width=\"150px\" :src=\"news.image\" placeholder loading=\"lazy\" alt=\"\" />\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td>{{ news.category.name }}</td>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<ElementsStatus :status=\"news.status\" />\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<ul class=\"d-flex align-items-center action-group justify-content-center\">\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t<nuxt-link :to=\"{ name: 'dashboard-manage-news-id-edit', params: { id: news.id } }\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"fas fa-pencil-alt skyblue\"></i>\n\t\t\t\t\t\t\t\t\t\t</nuxt-link>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t<a href=\"#\" role=\"button\" @click.prevent=\"deleteNews(news.id)\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"fa-solid fa-trash-can red\"></i>\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script setup>\n\tdefinePageMeta({\n\t\ttitle: 'News List',\n\t\tlayout: 'backend',\n\t\tauthenticated: true,\n\t\troles: ['Super Admin']\n\t});\n\n\tconst { useOnlyFetch } = useApi();\n\tconst { data: newsList, refresh } = await useOnlyFetch('/manage-news');\n\n\tconst { alert, confirm } = useSweetAlert();\n\tconst deleteNews = async (id) => {\n\t\tconst isConfirmed = await confirm(\"Are you sure you want to delete this news?\", \"warning\");\n\t\tif (isConfirmed) {\n\t\t\tawait useOnlyFetch(`/manage-news/${id}`, {\n\t\t\t\tmethod: 'DELETE',\n\t\t\t\tasync onResponse({ response }) {\n\t\t\t\t\tawait refresh();\n\t\t\t\t\talert(\"News deleted successfully.\");\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n</script>\n\n<style>\n</style>"],"version":3}