{"version":3,"file":"index-CscEr9I2.js","sources":["../../../../pages/dashboard/manage-role/index.vue"],"sourcesContent":["<template>\n\t<div class=\"dashboard-body mt30\">\n\t\t<div class=\"custom-card-header d-flex align-items-center justify-content-between\">\n\t\t\t<div class=\"table-heading\">\n\t\t\t\t<h5>Roles</h5>\n\t\t\t</div>\n\t\t\t<div class=\"add-new-btn\">\n\t\t\t\t<nuxt-link :to=\"{ name: 'dashboard-manage-role-create' }\" class=\"gradient-btn\">\n\t\t\t\t\t<i class=\"fas fa-plus\"></i>\n\t\t\t\t\tCreate Role\n\t\t\t\t</nuxt-link>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"data-show-table-area dashboard-box mt30\">\n\t\t\t<div class=\"table-header-area d-flex align-items-center justify-content-between\">\n\t\t\t\t<div class=\"table-heading\">\n\t\t\t\t\t<h5>Roles List</h5>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"search-box-area\">\n\t\t\t\t\t<form @submit.prevent=\"searchRoles\">\n\t\t\t\t\t\t<div class=\"input bg-border-input position-relative\">\n\t\t\t\t\t\t\t<div class=\"search-icon\">\n\t\t\t\t\t\t\t\t<i class=\"search-icon fas fa-search\"></i>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<input v-model=\"searchQuery\" type=\"search\" class=\"form-control\" id=\"search\" placeholder=\"Search here\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"common-table mt30\">\n\t\t\t\t<table class=\"custom-table display nowrap mobile-table\">\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>SL</th>\n\t\t\t\t\t\t\t<th>Role Name</th>\n\t\t\t\t\t\t\t<th>User Count</th>\n\t\t\t\t\t\t\t<th>Permissions</th>\n\t\t\t\t\t\t\t<th>Date Created</th>\n\t\t\t\t\t\t\t<th>Action</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<template v-if=\"roles && roles.length > 0\">\n\t\t\t\t\t\t\t<tr v-for=\"(role, i) in roles\" :key=\"role.id\">\n\t\t\t\t\t\t\t\t<td>{{ i + 1 }}</td>\n\t\t\t\t\t\t\t\t<td>{{ role.name }}</td>\n\t\t\t\t\t\t\t\t<td>{{ role.users_count }}</td>\n\t\t\t\t\t\t\t\t<td>{{ role.permissions_count }} 's</td>\n\t\t\t\t\t\t\t\t<td>{{ formatDate(role.created_at) }}</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<ul class=\"d-flex align-items-center action-group justify-content-center\">\n\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t<nuxt-link :to=\"{ name: 'dashboard-manage-role-edit', query: { id: role.id } }\"><i class=\"fas fa-pencil-alt skyblue\"></i></nuxt-link>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t<button type=\"button\" @click.prevent=\"deleteRole(role.id)\" class=\"bg-transparent\">\n\t\t\t\t\t\t\t\t\t\t\t\t<i class=\"fa-solid fa-trash-can red\"></i>\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<tr v-else>\n\t\t\t\t\t\t\t<td colspan=\"100%\" class=\"text-center\">No data found!</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script setup>\n\n\tdefinePageMeta({\n\t\ttitle: 'Role List',\n\t\tlayout: 'backend',\n\t\tauthenticated: true,\n\t\troles: ['Super Admin']\n\t});\n\n\tconst { formatDate } = useFilters();\n\tconst { useOnlyFetch } = useApi();\n\tconst roles = ref([]);\n\tconst { pending, refresh } = await useOnlyFetch('/manage-roles', {\n\t\tonResponse({ response }) {\n\t\t\troles.value = response._data;\n\t\t}\n\t});\n\n\tconst searchQuery = ref('');\n\tconst searchRoles = async () => {\n\t\tconst params = new URLSearchParams({\n\t\t\tsearch: searchQuery.value\n\t\t});\n\t\tawait useOnlyFetch(`/manage-roles?${params.toString()}`, {\n\t\t\tonResponse({ response }) {\n\t\t\t\troles.value = response._data;\n\t\t\t}\n\t\t});\n\t};\n\n\tconst { confirm, alert } = useSweetAlert();\n\tconst deleteRole = async (id) => {\n\t\tconst isConfirm = await confirm('Are you sure you want to delete this role?', 'warning');\n\t\tif (!isConfirm) return;\n\t\tconst { data } = await useOnlyFetch(`/manage-roles/${id}`, {\n\t\t\tmethod: 'delete',\n\t\t\tasync onResponse({ response }) {\n\t\t\t\tawait refresh();\n\t\t\t\talert('Role deleted successfully.');\n\t\t\t}\n\t\t});\n\t};\n</script>\n\n<style>\n</style>"],"names":["_withAsyncContext"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkFC,UAAM,EAAE,WAAY,IAAG,WAAY;AACnC,UAAM,EAAE,aAAc,IAAG,OAAQ;AACjC,UAAM,QAAQ,IAAI,EAAE;AACpB,UAAM,EAAE,SAAS,QAAS,KAAG,CAAA,QAAA,SAAA,IAAAA,iBAAA,MAAM,aAAa,iBAAiB;AAAA,MAChE,WAAW,EAAE,YAAY;AACxB,cAAM,QAAQ,SAAS;AAAA,MAC1B;AAAA,IACA,CAAE,CAAA;AAED,UAAM,cAAc,IAAI,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}