{"file":"useVForm-DEM93eEe.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIO,SAAS,SAAS,MAAc;AACrC,QAAM,SAAS,iBAAiB;AAAA,EAEhC,MAAM,mBAAmB,KAAK;AAAA,IAC5B,MAAM,OAAO,MAAc,SAAiB,QAAQ,UAAe,CAAA,GAAI;AACrE,WAAK,OAAO;AAER,UAAA;AACI,cAAA,WAAW,MAAM,OAAO,GAAG,OAAO,OAAO,OAAO,GAAG,IAAI,IAAI;AAAA,UAC/D,QAAQ,OAAO,YAAY;AAAA,UAC3B,MAAM,KAAK,KAAK;AAAA,UAChB,GAAG;AAAA,QAAA,CACJ;AAED,aAAK,OAAO;AACL,eAAA;AAAA,eACA,OAAY;AACf,YAAA,MAAM,eAAe,KAAK;AAC5B,eAAK,OAAO,IAAI,MAAM,KAAK,MAAM;AAAA,QAAA;AAEnC,aAAK,OAAO;AACN,cAAA;AAAA,MAAA;AAAA,IACR;AAAA,EACF;AAGF,SAAO,SAAS,IAAI,WAAW,IAAI,CAAC;AACtC;","names":[],"sources":["../../../../composables/useVForm.ts"],"sourcesContent":["// composables/useVForm.ts\nimport Form from \"vform\";\nimport { reactive } from \"vue\";\n\nexport function useVForm(data: object) {\n  const config = useRuntimeConfig();\n\n  class CustomForm extends Form {\n    async submit(path: string, method: string = \"post\", options: any = {}) {\n      this.busy = true;\n\n      try {\n        const response = await $fetch(`${config.public.apiBase}${path}`, {\n          method: method.toUpperCase(),\n          body: this.data(),\n          ...options,\n        });\n\n        this.busy = false;\n        return response;\n      } catch (error: any) {\n        if (error.statusCode === 422) {\n          this.errors.set(error.data.errors);\n        }\n        this.busy = false;\n        throw error;\n      }\n    }\n  }\n\n  return reactive(new CustomForm(data));\n}\n"],"version":3}