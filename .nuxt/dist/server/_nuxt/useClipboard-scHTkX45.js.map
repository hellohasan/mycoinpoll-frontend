{"version":3,"file":"useClipboard-scHTkX45.js","sources":["../../../../composables/useClipboard.ts"],"sourcesContent":["// composables/useClipboard.ts\nimport { ref } from \"vue\";\nimport { useToastAlert } from \"~/composables/useToastAlert\";\n\nexport function useClipboard() {\n  const copied = ref(false);\n  const { toastSuccess, toastError } = useToastAlert();\n\n  const fallbackCopyTextToClipboard = (text: string): boolean => {\n    const textArea = document.createElement(\"textarea\");\n    textArea.value = text;\n\n    // Avoid scrolling to bottom\n    textArea.style.cssText = \"position: fixed; top: 0; left: 0; opacity: 0;\";\n\n    document.body.appendChild(textArea);\n    textArea.focus();\n    textArea.select();\n\n    try {\n      const successful = document.execCommand(\"copy\");\n      document.body.removeChild(textArea);\n      return successful;\n    } catch (err) {\n      document.body.removeChild(textArea);\n      return false;\n    }\n  };\n\n  const copyNow = async (text: string) => {\n    try {\n      if (process.client) {\n        // Check if we're on client-side\n        if (!navigator.clipboard) {\n          const success = fallbackCopyTextToClipboard(text);\n          if (!success) throw new Error(\"Fallback copy failed\");\n        } else {\n          await navigator.clipboard.writeText(text);\n        }\n\n        copied.value = true;\n        toastSuccess(`Copied: ${text}`);\n\n        // Reset copied state after 2 seconds\n        setTimeout(() => {\n          copied.value = false;\n        }, 2000);\n      }\n    } catch (err) {\n      copied.value = false;\n      toastError(\"Failed to copy text\");\n    }\n  };\n\n  return {\n    copied,\n    copyNow,\n  };\n}\n"],"names":[],"mappings":";;AAIO,SAAS,eAAe;AACvB,QAAA,SAAS,IAAI,KAAK;AACxB,QAAM,EAAE,aAAyB,IAAI,cAAc;AAE7C,QAAA,8BAA8B,CAAC,SAA0B;AACvD,UAAA,WAAoB,SAAA,cAAc,UAAU;AAClD,aAAS,QAAQ;AAGjB,aAAS,MAAM,UAAU;AAEhB,IAAA,SAAA,KAAK,YAAY,QAAQ;AAClC,aAAS,MAAM;AACf,aAAS,OAAO;AAEZ,QAAA;AACI,YAAA,aAAsB,SAAA,YAAY,MAAM;AACrC,MAAA,SAAA,KAAK,YAAY,QAAQ;AAC3B,aAAA;AAAA,aACA,KAAK;AACH,MAAA,SAAA,KAAK,YAAY,QAAQ;AAC3B,aAAA;AAAA,IAAA;AAAA,EAEX;AAEM,QAAA,UAAU,OAAO,SAAiB;AAClC,QAAA;AACF,UAAI,MAAgB;AAAA,aAiBb,KAAK;AACZ,aAAO,QAAQ;AAAA,IACiB;AAAA,EAEpC;AAEO,SAAA;AAAA,IACL;AAAA,IACA;AAAA,EACF;AACF;"}