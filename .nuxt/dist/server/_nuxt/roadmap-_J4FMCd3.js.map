{"version":3,"file":"roadmap-_J4FMCd3.js","sources":["../../../../pages/dashboard/manage-tokens/[slug]/roadmap.vue"],"sourcesContent":["<template>\n\t<div class=\"dashboard-body mt30\">\n\t\t<div class=\"dashboard-box mt30 custom-card-form\">\n\t\t\t<div class=\"custom-card-header d-flex align-items-center justify-content-between\">\n\t\t\t\t<div class=\"table-heading\">\n\t\t\t\t\t<h5>Token Roadmap</h5>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"add-new-btn\">\n\t\t\t\t\t<nuxt-link :to=\"{ name: 'dashboard-manage-tokens' }\" class=\"gradient-btn\">\n\t\t\t\t\t\t<i class=\"fas fa-list\"></i>\n\t\t\t\t\t\tToken List\n\t\t\t\t\t</nuxt-link>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"card-line\"></div>\n\t\t\t<div class=\"custom-card-body\">\n\t\t\t\t<div class=\"d-flex justify-content-between\">\n\t\t\t\t\t<h3 class=\"mb20 text-white\">Add Roadmap Groups and Tasks</h3>\n\t\t\t\t\t<button @click=\"addGroup\" class=\"gradient-btn mb20\">Add Group</button>\n\t\t\t\t</div>\n\t\t\t\t<div v-if=\"form.errors.any()\" class=\"alert alert-danger alert-dismissible fade show\" role=\"alert\">\n\t\t\t\t\t<strong>Oops! There were some problems with your input.</strong>\n\t\t\t\t\t<ol class=\"mb-0 mt-2\">\n\t\t\t\t\t\t<li v-for=\"error in form.errors.all()\" :key=\"error\" class=\"error\">{{ error[0] }}</li>\n\t\t\t\t\t</ol>\n\t\t\t\t\t<button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"></button>\n\t\t\t\t</div>\n\t\t\t\t<div v-for=\"(group, groupIndex) in form.groups\" :key=\"groupIndex\" class=\"border-image-gradient p-3 mb20\">\n\t\t\t\t\t<div class=\"row d-flex justify-content-between align-items-center mb-2\">\n\t\t\t\t\t\t<h6 class=\"text-white col-md-8\">\n\t\t\t\t\t\t\t<label for=\"\">Group {{ groupIndex + 1 }}:</label>\n\t\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t\t<div class=\"col-md-6\">\n\t\t\t\t\t\t\t\t\t<div class=\"input bg-border-input\">\n\t\t\t\t\t\t\t\t\t\t<input type=\"text\" v-model=\"group.name\" class=\"form-control\" placeholder=\"Enter Group Name\" />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"col-md-6\">\n\t\t\t\t\t\t\t\t\t<div class=\"input bg-border-input\">\n\t\t\t\t\t\t\t\t\t\t<input type=\"text\" v-model=\"group.heading\" class=\"form-control\" placeholder=\"Enter Group Heading\" />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</h6>\n\t\t\t\t\t\t<div class=\"col-md-4 text-end\">\n\t\t\t\t\t\t\t<button @click=\"addTask(groupIndex)\" class=\"gradient-btn small-btn me-1\">Add Task</button>\n\t\t\t\t\t\t\t<button @click=\"removeGroup(groupIndex)\" class=\"gradient-btn small-btn delete-btn\">Remove Group</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<table class=\"table table-bordered\" style=\"background: #09111b\">\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th width=\"5%\"></th>\n\t\t\t\t\t\t\t\t<th width=\"45%\">Task Name</th>\n\t\t\t\t\t\t\t\t<th width=\"25%\">Task Status</th>\n\t\t\t\t\t\t\t\t<th width=\"25%\">Action</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t<draggable v-model=\"group.tasks\" tag=\"tbody\" handle=\".drag-handle\" :animation=\"200\" itemKey=\"taskIndex\">\n\t\t\t\t\t\t\t<template #item=\"{ element: task, index: taskIndex }\">\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td><i class=\"fas fa-bars drag-handle\"></i></td>\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t<div class=\"input bg-border-input\">\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" v-model=\"task.name\" placeholder=\"Task name\" class=\"form-control\" />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t<div class=\"task-status\">\n\t\t\t\t\t\t\t\t\t\t\t<button @click=\"toggleStatus(groupIndex, taskIndex)\" class=\"badge\" :class=\"task.status ? 'active-status' : 'deactivate-status'\">{{ task.status ? 'Complete' : 'Pending' }}</button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t<button @click=\"removeTask(groupIndex, taskIndex)\" class=\"gradient-btn small-btn delete-btn\">Remove Task</button>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</draggable>\n\t\t\t\t\t</table>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"card-line\"></div>\n\t\t\t<div class=\"custom-card-footer\">\n\t\t\t\t<div class=\"form-group d-flex justify-content-end align-items-center g30\">\n\t\t\t\t\t<button type=\"submit\" :disabled=\"form.busy\" @click=\"submitForm\" class=\"gradient-btn\">\n\t\t\t\t\t\t<i class=\"fas fa-spinner fa-spin me-1\" v-if=\"form.busy\"></i>\n\t\t\t\t\t\tUpdate Token Roadmap\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script setup>\n\timport draggable from 'vuedraggable';\n\n\tdefinePageMeta({\n\t\ttitle: 'Token Roadmap',\n\t\tlayout: 'backend',\n\t\tauthenticated: true,\n\t\troles: ['Super Admin'],\n\t});\n\n\tconst route = useRoute();\n\tconst slug = ref(route.params.slug);\n\tconst { toastSuccess } = useToastAlert();\n\n\tconst form = useVForm({\n\t\tgroups: [\n\t\t\t{\n\t\t\t\tname: '',\n\t\t\t\theading: '',\n\t\t\t\ttasks: [{ name: '', status: false }],\n\t\t\t},\n\t\t],\n\t});\n\n\tconst addGroup = () => {\n\t\tform.groups.push({ name: '', heading: '', tasks: [{ name: '', status: false }] });\n\t};\n\n\tconst addTask = (groupIndex) => {\n\t\tform.groups[groupIndex].tasks.push({ name: '', status: false });\n\t};\n\n\tconst removeTask = (groupIndex, taskIndex) => {\n\t\tform.groups[groupIndex].tasks.splice(taskIndex, 1);\n\t};\n\n\tconst removeGroup = (groupIndex) => {\n\t\tform.groups.splice(groupIndex, 1);\n\t};\n\n\tconst toggleStatus = (groupIndex, taskIndex) => {\n\t\tconst task = form.groups[groupIndex].tasks[taskIndex];\n\t\ttask.status = !task.status;\n\t};\n\n\tconst submitForm = async () => {\n\t\ttry {\n\t\t\tawait form.submit(`/manage-tokens/${slug.value}/roadmap`).then(() => {\n\t\t\t\tform.clear();\n\t\t\t\ttoastSuccess('Roadmap saved successfully!');\n\t\t\t});\n\t\t} catch (error) {\n\t\t\tconsole.error('Error saving roadmap:', error);\n\t\t}\n\t};\n\n\tconst { useOnlyFetch } = useApi();\n\tawait useOnlyFetch(`manage-tokens/${slug.value}/roadmap`, {\n\t\tonResponse({ response }) {\n\t\t\tform.groups = response._data.roadmap_data;\n\t\t},\n\t});\n</script>\n\n<style scoped>\n\t.table tr th,\n\t.table tr td {\n\t\tbackground-color: #040c16;\n\t\tcolor: white;\n\t}\n\n\t.drag-handle {\n\t\tcursor: move;\n\t}\n\n\t.small-btn {\n\t\tpadding: 4px 8px;\n\t\tfont-size: 12px;\n\t}\n\n\t.delete-btn {\n\t\tbackground-color: red;\n\t\tborder-color: red;\n\t\tcolor: white;\n\t}\n</style>\n"],"names":["_withAsyncContext"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwGC,UAAM,QAAQ,SAAU;AACxB,UAAM,OAAO,IAAI,MAAM,OAAO,IAAI;AAGlC,UAAM,OAAO,SAAS;AAAA,MACrB,QAAQ;AAAA,QACP;AAAA,UACC,MAAM;AAAA,UACN,SAAS;AAAA,UACT,OAAO,CAAC,EAAE,MAAM,IAAI,QAAQ,MAAK,CAAE;AAAA,QACnC;AAAA,MACD;AAAA,IACH,CAAE;AAUD,UAAM,aAAa,CAAC,YAAY,cAAc;AAC7C,WAAK,OAAO,UAAU,EAAE,MAAM,OAAO,WAAW,CAAC;AAAA,IACjD;AAMD,UAAM,eAAe,CAAC,YAAY,cAAc;AAC/C,YAAM,OAAO,KAAK,OAAO,UAAU,EAAE,MAAM,SAAS;AACpD,WAAK,SAAS,CAAC,KAAK;AAAA,IACpB;AAaD,UAAM,EAAE,aAAc,IAAG,OAAQ;AACjC,IAAM,CAAA,QAAA,SAAA,IAAAA,iBAAA,MAAA,aAAa,iBAAiB,KAAK,KAAK,YAAY;AAAA,MACzD,WAAW,EAAE,YAAY;AACxB,aAAK,SAAS,SAAS,MAAM;AAAA,MAC7B;AAAA,IACH,CAAE,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}