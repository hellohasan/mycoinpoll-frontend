{"file":"edit-itPnv9RS.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDC,UAAM,OAAO,SAAS;AAAA,MACrB,MAAM;AAAA,MACN,eAAe,CAAE;AAAA,MACjB,YAAY;AAAA,IACd,CAAE;AAED,UAAM,EAAE,aAAc,IAAG,OAAQ;AACjC,UAAM,EAAE,MAAM,UAAW,KAAS,CAAA,QAAA,SAAA,IAAAA,iBAAA,MAAA,aAAa,eAAe,CAAA;AAG9D,IAAM,CAAA,QAAA,SAAA,IAAAA,iBAAA,MAAA,aAAa,uBAAuB,SAAU,EAAC,MAAM,EAAE,IAAI;AAAA,MAChE,WAAW,EAAE,YAAY;AACxB,aAAK,OAAO,SAAS,MAAM;AAC3B,aAAK,aAAa,SAAS,MAAM;AACjC,aAAK,gBAAgB,SAAS,MAAM,MAAM,IAAI,CAAC,SAAS,KAAK,EAAE;AAAA,MAClE;AAAA,IACA,CAAE,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","names":["_withAsyncContext"],"sources":["../../../../pages/dashboard/manage-permissions/edit.vue"],"sourcesContent":["<template>\n\t<div class=\"dashboard-body mt30\">\n\t\t<div class=\"data-show-table-area dashboard-box mt30\">\n\t\t\t<div class=\"table-header-area d-flex align-items-center justify-content-between\">\n\t\t\t\t<div class=\"table-heading\">\n\t\t\t\t\t<h5>Create New Permission</h5>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<form @submit.prevent=\"handelSubmit\">\n\t\t\t\t<div class=\"row gy-4 mt-1\">\n\t\t\t\t\t<FormGroupInput col=\"col-md-6\" v-model=\"form.name\" :error=\"form.errors.get('name')\" label=\"Permission Name\" placeholder=\"Enter permission name\" />\n\t\t\t\t\t<FormGroupInput col=\"col-md-6\" v-model=\"form.group_name\" :error=\"form.errors.get('group_name')\" label=\"Permission Group\" placeholder=\"Enter permission Group\" />\n\t\t\t\t</div>\n\t\t\t\t<div class=\"table-heading mt-20\">\n\t\t\t\t\t<h5>Assign Role</h5>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"line-1 mt-15\"></div>\n\t\t\t\t<div class=\"row gy-4 mt-1\">\n\t\t\t\t\t<div v-for=\"role in roleLists\" :key=\"role.id\" class=\"col-sm-6 col-lg-3 col-md-4\">\n\t\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t\t<input type=\"checkbox\" :id=\"role.id\" class=\"checkBox\" v-model=\"form.selectedRoles\" :value=\"role.id\" />\n\t\t\t\t\t\t\t<label :for=\"role.id\">\n\t\t\t\t\t\t\t\t{{ role.name }}\n\t\t\t\t\t\t\t\t<span v-if=\"form.selectedRoles.includes(role.id)\">\n\t\t\t\t\t\t\t\t\t<i class=\"fa-solid fa-check\"></i>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"card-line\"></div>\n\t\t\t\t<div class=\"custom-card-footer\">\n\t\t\t\t\t<div class=\"form-group d-flex justify-content-end align-items-center g30\">\n\t\t\t\t\t\t<button type=\"submit\" :disabled=\"form.busy\" class=\"gradient-btn\">\n\t\t\t\t\t\t\t<i class=\"fas fa-spinner fa-spin me-1\" v-if=\"form.busy\"></i>\n\t\t\t\t\t\t\tCreate Permission\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</div>\n\t</div>\n</template>\n\n<script  setup>\n\tdefinePageMeta({\n\t\ttitle: 'Create Permission',\n\t\tlayout: 'backend',\n\t\tauthenticated: true,\n\t\troles: ['Super Admin']\n\t});\n\n\tconst form = useVForm({\n\t\tname: '',\n\t\tselectedRoles: [],\n\t\tgroup_name: '',\n\t});\n\n\tconst { useOnlyFetch } = useApi();\n\tconst { data: roleLists } = await useOnlyFetch('/manage-roles');\n\tconst { toastSuccess } = useToastAlert();\n\n\tawait useOnlyFetch(`/manage-permissions/${useRoute().query.id}`, {\n\t\tonResponse({ response }) {\n\t\t\tform.name = response._data.name;\n\t\t\tform.group_name = response._data.group_name;\n\t\t\tform.selectedRoles = response._data.roles.map((role) => role.id);\n\t\t}\n\t});\n\n\tconst handelSubmit = async () => {\n\t\tawait form.submit(`/manage-permissions/${useRoute().query.id}`, 'PUT').then((res) => {\n\t\t\tform.reset();\n\t\t\tform.clear();\n\t\t\ttoastSuccess('Permission Updated successfully.');\n\t\t\tnavigateTo('/dashboard/manage-permissions');\n\t\t});\n\t};\n</script>\n\n<style>\n</style>"],"version":3}