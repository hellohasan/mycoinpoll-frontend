{"version":3,"file":"index-CQB2g9-T.js","sources":["../../../../pages/dashboard/manage-permissions/index.vue"],"sourcesContent":["<template>\n\t<div class=\"dashboard-body mt30\">\n\t\t<div class=\"custom-card-header d-flex align-items-center justify-content-between\">\n\t\t\t<div class=\"table-heading\">\n\t\t\t\t<h5>Permissions</h5>\n\t\t\t</div>\n\t\t\t<div class=\"add-new-btn\">\n\t\t\t\t<nuxt-link :to=\"{ name: 'dashboard-manage-permissions-create' }\" class=\"gradient-btn\">\n\t\t\t\t\t<i class=\"fas fa-plus\"></i>\n\t\t\t\t\tCreate Permission\n\t\t\t\t</nuxt-link>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"data-show-table-area dashboard-box mt30\">\n\t\t\t<div class=\"table-header-area d-flex align-items-center justify-content-between\">\n\t\t\t\t<div class=\"table-heading\">\n\t\t\t\t\t<h5>Permissions List</h5>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"search-box-area\">\n\t\t\t\t\t<form @submit.prevent=\"searchPermission\">\n\t\t\t\t\t\t<div class=\"input bg-border-input position-relative\">\n\t\t\t\t\t\t\t<div class=\"search-icon\">\n\t\t\t\t\t\t\t\t<i class=\"search-icon fas fa-search\"></i>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<input v-model=\"searchQuery\" type=\"search\" class=\"form-control\" id=\"search\" placeholder=\"Search here.\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"common-table mt30\" v-if=\"!pending\">\n\t\t\t\t<table class=\"custom-table display nowrap mobile-table\">\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>SL</th>\n\t\t\t\t\t\t\t<th>Permission Name</th>\n\t\t\t\t\t\t\t<th>Guard Name</th>\n\t\t\t\t\t\t\t<th>Date Created</th>\n\t\t\t\t\t\t\t<th>Action</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<template v-if=\"permissions && permissions.length > 0\">\n\t\t\t\t\t\t\t<tr v-for=\"(permission, i) in permissions\" :key=\"permission.id\">\n\t\t\t\t\t\t\t\t<td>{{ i + 1 }}</td>\n\t\t\t\t\t\t\t\t<td>{{ permission.name }}</td>\n\t\t\t\t\t\t\t\t<td>{{ permission.guard_name }}</td>\n\t\t\t\t\t\t\t\t<td>{{ formatDate(permission.created_at) }}</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<ul class=\"d-flex align-items-center action-group justify-content-center\">\n\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t<nuxt-link :to=\"{ name: 'dashboard-manage-permissions-edit', query: { id: permission.id } }\"><i class=\"fas fa-pencil-alt skyblue\"></i></nuxt-link>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t<button type=\"button\" @click.prevent=\"deletePermission(permission.id)\" class=\"bg-transparent\">\n\t\t\t\t\t\t\t\t\t\t\t\t<i class=\"fa-solid fa-trash-can red\"></i>\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<tr v-else>\n\t\t\t\t\t\t\t<td colspan=\"100%\" class=\"text-center\">No data found!</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script setup>\n\tdefinePageMeta({\n\t\ttitle: 'Permission List',\n\t\tlayout: 'backend',\n\t\tauthenticated: true,\n\t\troles: ['Super Admin']\n\t});\n\n\tconst { formatDate } = useFilters();\n\tconst { useOnlyFetch } = useApi();\n\tconst permissions = ref([]);\n\n\tconst { pending, refresh } = await useOnlyFetch('/manage-permissions', {\n\t\tonResponse({ response }) {\n\t\t\tpermissions.value = response._data;\n\t\t}\n\t});\n\n\tconst searchQuery = ref('');\n\tconst searchPermission = async () => {\n\t\tconst params = new URLSearchParams({\n\t\t\tsearch: searchQuery.value\n\t\t});\n\t\tawait useOnlyFetch(`/manage-permissions?${params.toString()}`, {\n\t\t\tonResponse({ response }) {\n\t\t\t\tpermissions.value = response._data;\n\t\t\t}\n\t\t});\n\t};\n\n\tconst { confirm, alert } = useSweetAlert();\n\tconst deletePermission = async (id) => {\n\t\tconst isConfirm = await confirm('Are you sure you want to delete this permission?', 'warning');\n\t\tif (!isConfirm) return;\n\t\tawait useOnlyFetch(`/manage-permissions/${id}`, {\n\t\t\tmethod: 'DELETE',\n\t\t\tonResponse({ response }) {\n\t\t\t\trefresh();\n\t\t\t\talert('Permission deleted successfully.');\n\t\t\t}\n\t\t});\n\t};\n</script>\n\n<style>\n</style>"],"names":["_withAsyncContext"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+EC,UAAM,EAAE,WAAY,IAAG,WAAY;AACnC,UAAM,EAAE,aAAc,IAAG,OAAQ;AACjC,UAAM,cAAc,IAAI,EAAE;AAE1B,UAAM,EAAE,SAAS,QAAS,KAAG,CAAA,QAAA,SAAA,IAAAA,iBAAA,MAAM,aAAa,uBAAuB;AAAA,MACtE,WAAW,EAAE,YAAY;AACxB,oBAAY,QAAQ,SAAS;AAAA,MAChC;AAAA,IACA,CAAE,CAAA;AAED,UAAM,cAAc,IAAI,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}