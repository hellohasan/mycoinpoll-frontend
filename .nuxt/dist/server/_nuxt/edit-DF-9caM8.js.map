{"version":3,"file":"edit-DF-9caM8.js","sources":["../../../../pages/dashboard/manage-learn/edit.vue"],"sourcesContent":["<template>\n\t<div class=\"dashboard-body mt30\">\n\t\t<div class=\"dashboard-box mt30 custom-card-form\">\n\t\t\t<div class=\"custom-card-header d-flex align-items-center justify-content-between\">\n\t\t\t\t<div class=\"table-heading\">\n\t\t\t\t\t<h5>Create Lesson</h5>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"add-new-btn\">\n\t\t\t\t\t<nuxt-link :to=\"{ name: 'dashboard-manage-learn' }\" class=\"gradient-btn\">\n\t\t\t\t\t\t<i class=\"fas fa-video\"></i>\n\t\t\t\t\t\tLesson List\n\t\t\t\t\t</nuxt-link>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"card-line\"></div>\n\t\t\t<ClientOnly>\n\t\t\t\t<form @submit.prevent=\"handelSubmit\">\n\t\t\t\t\t<div class=\"custom-card-body\">\n\t\t\t\t\t\t<div class=\"row gy-4\">\n\t\t\t\t\t\t\t<FormGroupInput col=\"col-md-6\" v-model=\"form.title\" :error=\"form.errors.get('title')\" label=\"Lesson Title\" />\n\t\t\t\t\t\t\t<FormGroupSelect col=\"col-md-6\" v-model=\"form.lesson_category_id\" :options=\"categories\" :error=\"form.errors.get('lesson_category_id')\" label=\"Lesson Category\" />\n\t\t\t\t\t\t\t<FormGroupPhoto col=\"col-md-6\" v-model=\"form.image\" :preview=\"form.image\" :error=\"form.errors.get('image')\" message=\"Size: 428x358\" label=\"Lesson Small Image\" />\n\t\t\t\t\t\t\t<FormGroupPhoto col=\"col-md-6\" v-model=\"form.image_large\" :preview=\"form.image_large\" :error=\"form.errors.get('image_large')\" message=\"Size: 1232X626\" label=\"Lesson Large Image\" />\n\t\t\t\t\t\t\t<FormGroupToggle col=\"col-md-6\" v-model=\"form.status\" :error=\"form.errors.get('status')\" label=\"Lesson Status\" />\n\t\t\t\t\t\t\t<FormGroupInput col=\"col-md-6\" v-model=\"form.video_id\" :error=\"form.errors.get('video_id')\" message=\"Ony Youtube Video ID\" label=\"Video Id\" />\n\t\t\t\t\t\t\t<FormGroupEditor col=\"col-md-12\" v-model=\"form.description\" :error=\"form.errors.get('description')\" label=\"Lesson Description\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"card-line\"></div>\n\t\t\t\t\t<div class=\"custom-card-footer\">\n\t\t\t\t\t\t<div class=\"form-group d-flex justify-content-end align-items-center g30\">\n\t\t\t\t\t\t\t<button type=\"submit\" :disabled=\"form.busy\" class=\"gradient-btn\">\n\t\t\t\t\t\t\t\t<i class=\"fas fa-spinner fa-spin me-1\" v-if=\"form.busy\"></i>\n\t\t\t\t\t\t\t\tUpdate Lesson\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t</ClientOnly>\n\t\t</div>\n\t</div>\n</template>\n\n<script setup>\n\tdefinePageMeta({\n\t\ttitle: 'Edit Lesson',\n\t\tlayout: 'backend',\n\t\tauthenticated: true,\n\t\tpermissions: ['manage-lean-edit']\n\t});\n\n\tconst form = useVForm({\n\t\ttitle: '',\n\t\tlesson_category_id: '',\n\t\timage: '',\n\t\timage_large: '',\n\t\tstatus: '',\n\t\tvideo_id: '',\n\t\tdescription: ''\n\t});\n\n\tconst categories = ref([]);\n\tconst { useOnlyFetch } = useApi();\n\tawait useOnlyFetch('/get-learn-category', {\n\t\tonResponse({ response }) {\n\t\t\tcategories.value = response._data\n\t\t}\n\t});\n\n\tconst route = useRoute();\n\tawait useOnlyFetch(`/manage-lessons/${route.query.id}`, {\n\t\tonResponse({ response }) {\n\t\t\tform.fill(response._data);\n\t\t}\n\t});\n\n\tconst { toastSuccess } = useToastAlert();\n\n\tconst handelSubmit = async () => {\n\t\tawait form.submit(`/manage-lessons/${route.query.id}`, 'PUT').then((res) => {\n\t\t\tform.reset();\n\t\t\tform.clear();\n\t\t\ttoastSuccess('Lesson Updated successfully.');\n\t\t\tnavigateTo('/dashboard/manage-learn');\n\t\t});\n\t}\n</script>\n\n<style>\n</style>"],"names":["_withAsyncContext"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDC,UAAM,OAAO,SAAS;AAAA,MACrB,OAAO;AAAA,MACP,oBAAoB;AAAA,MACpB,OAAO;AAAA,MACP,aAAa;AAAA,MACb,QAAQ;AAAA,MACR,UAAU;AAAA,MACV,aAAa;AAAA,IACf,CAAE;AAED,UAAM,aAAa,IAAI,EAAE;AACzB,UAAM,EAAE,aAAc,IAAG,OAAQ;AACjC,IAAA,CAAA,QAAA,SAAA,IAAAA,iBAAA,MAAM,aAAa,uBAAuB;AAAA,MACzC,WAAW,EAAE,YAAY;AACxB,mBAAW,QAAQ,SAAS;AAAA,MAC/B;AAAA,IACA,CAAE,CAAA;AAED,UAAM,QAAQ,SAAU;AACxB,IAAM,CAAA,QAAA,SAAA,IAAAA,iBAAA,MAAA,aAAa,mBAAmB,MAAM,MAAM,EAAE,IAAI;AAAA,MACvD,WAAW,EAAE,YAAY;AACxB,aAAK,KAAK,SAAS,KAAK;AAAA,MAC3B;AAAA,IACA,CAAE,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}